apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Values.name }}
  labels:
    app.kubernetes.io/name: {{ .Values.name }}
data:
  kubernetes.yaml: |
    mode: cluster
    ingress: true
    traefik: true
    gateway: true
  settings.yaml: |
    title: Homelab Dashboard
    background:
      image: images/homepage.png
      brightness: 50
      opacity: 25
    providers:
      openweathermap: openweathermapapikey
      weatherapi: weatherapiapikey
    logo: logo.png
    favicon: favicon.png
    theme: dark
    showThemeToggle: true
    defaultWidgetView: grid
    layout:
      Homelab:
        header: true
      Applications:
        style: column
        columns: 3
        header: true
      Arr:
        style: column
        columns: 3
        header: true
      Network:
        style: column
        columns: 2
        header: true
    gridsterOptions:
      minCols: 3
      maxCols: 6
      minRows: 3
      maxRows: 6
      defaultSizeX: 2
      defaultSizeY: 2
      mobileBreakpoint: 640
      useBodyForMobile: true
      resizable:
        enabled: true
      draggable:
        enabled: true
  custom.css: ""
  custom.js: ""
  bookmarks.yaml: |
    - Bookmarks:
      - Allrecipes:
        - icon: https://i.imgur.com/cPUE6a0.png
          href: https://www.allrecipes.com/
      - Amazon:
        - icon: amazon-light.png
          href: https://amazon.com/
    - Developer:
      - Github:
        - abbr: GH
          href: https://github.com/
    - Social:
      - Reddit:
        - icon: reddit.png
          href: https://reddit.com/
          description: The front page of the internet
    - Entertainment:
      - YouTube:
        - abbr: YT
          href: https://youtube.com/
  services.yaml: |
    - Arr:
        - Sonarr:
            icon: sonarr.png
            href: https://sonarr.frost.haus
            ping: sonarr.frost.haus
            widget:
              type: sonarr
              url: https://sonarr.frost.haus
              key: <sonarr_api_key>
        - Radarr:
            icon: radarr.png
            href: https://radarr.frost.haus
            ping: radarr.frost.haus
            widget:
              type: radarr
              url: https://radarr.frost.haus
              key: <radarr_api_key>
        - Prowlarr:
            icon: prowlarr.png
            href: https://prowlarr.frost.haus
            ping: prowlarr.frost.haus
            widget:
              type: prowlarr
              url: https://prowlarr.frost.haus
              key: <prowlarr_api_key>
        - Plex:
            icon: plex.png
            href: https://peppers.frost.haus
            description: Watch movies and TV shows.
            server: peppers.frost.haus
            container: plex
            widgets:
              - type: tautulli
                url: https://tautulli.frost.haus
                key: e2d493a22d5f42608cd247f7ac2df008
              - type: uptimekuma
                url: https://uptime-kuma.frost.haus
                slug: default
        - Tautili:
            icon: mdi-folder-play
            href: https://tautulli.frost.haus
            description: plex stats
            ping: https://tautulli.frost.haus
            container: tautulli
            widget:
              type: tautulli
              url: https://tautulli.frost.haus
              key: e2d493a22d5f42608cd247f7ac2df008
    - Network:
        - pihole1:
            icon: mdi-pi-hole
            href: http://dns1.frost.haus/admin
            description: network ad blocking
            ping: dns1.frost.haus
            widget:
                type: pihole
                url: http://dns1.frost.haus
                key: STUFF
                version: 6 # required if running v6 or higher, defaults to 5
        - pihole2:
            icon: mdi-pi-hole
            href: http://dns2.frost.haus/admin
            description: network ad blocking
            ping: dns2.frost.haus
            widget:
                type: pihole
                url: http://dns2.frost.haus
                key: molLmkh1Hb6Ds/vga7RmJNlYGWh++FapNG7ZHZv9zOA=
                version: 6 # required if running v6 or higher, defaults to 5
        - Speedtest Tracker:
            icon: mdi-speedometer
            href: https://speedtest.frost.haus
            description: speedtest
            ping: speedtest.frost.haus
            container: speedtest
            widget:
                type: speedtest
                url: http://IPADDRESS  
        - Uptime Kuma:
            icon: mdi-bell
            href: https://uptime-kuma.frost.haus
            description: uptime monitoring
            ping: https://uptime-kuma.frost.haus
            container: uptime-kuma
            widget:
              type: uptimekuma
              url: https://uptime-kuma.frost.haus/
              slug: default
    - Applications: 
        - Portainer:
            icon: portainer.png
            href: https://portainer.frost.haus
            ping: portainer.frost.haus
            container: portainer
            widget:
              type: portainer
              url:  http://portainer.frost.haus
              env: 3
              key: ptr_rz+/Pns2ddIIYiX84oJAgT5TRLLGSYTwCscNMHDj4Gw=
        - Proxmox1:
            icon: proxmox.png
            href: https://pve1.frost.haus:8006
            ping: pve1.frost.haus
            widget:
              type: proxmox
              url: https://pve1.frost.haus:8006/api2/json
              username: <proxmox_usrname>
              password: <proxmox_api_key>
              node: royalfox
              fields: ["vms", "lxc"]
        - Proxmox2:
            icon: proxmox.png
            href: https://pve2.frost.haus:8006
            ping: pve2.frost.haus
            widget:
              type: proxmox
              url: https://pve2.frost.haus:8006/api2/json
              username: <proxmox_usrname>
              password: <proxmox_api_key>
              node: royalfox
              fields: ["vms", "lxc"]
        - Proxmox3:
            icon: proxmox.png
            href: https://pve3.frost.haus:8006
            ping: pve3.frost.haus
            widget:
              type: proxmox
              url: https://pve3.frost.haus:8006/api2/json
              username: <proxmox_usrname>
              password: <proxmox_api_key>
              node: royalfox
              fields: ["vms", "lxc"]
        - Dozzle:
            icon: mdi-database
            href: http://dozzle.frost.haus
            description: docker logs
            ping: dozzle.frost.haus
 
  widgets.yaml: |
    - kubernetes:
        # cluster:
        #   show: true
        #   cpu: true
        #   memory: true
        #   showLabel: true
        #   label: "k8s-cluster"
        nodes:
          show: true
          cpu: true
          memory: true
          showLabel: true
    # - resources:
    #     backend: resources
    #     expanded: true
    #     cpu: true
    #     memory: true
    #     network: default
    - search:
        provider: duckduckgo
        target: _blank
    # - logo:
    #     href: https://example.com
    #     target: _blank # Optional, can be set in settings
  docker.yaml: ""
  proxmox.yaml: |
    - HomeAssistant:
      icon: home-assistant.png
      href: http://homeassistant.brainboy.local.lan:8123/
      description: Home automation
      proxmoxNode: pve2.frost.haus
      proxmoxVMID: 100
    - K8s-n1:
      icon: k8s.png
      description: K8s Node 1
      proxmoxNode: pve1.frost.haus
      proxmoxVMID: 107
    - K8s-n2:
      icon: k8s.png
      description: K8s Node 2
      proxmoxNode: pve2.frost.haus
      proxmoxVMID: 104
    - K8s-n3:
      icon: k8s.png
      description: K8s Node 3
      proxmoxNode: pve3.frost.haus
      proxmoxVMID: 103
    - K8s-c1:
      icon: k8s.png
      description: K8s Controller Node
      proxmoxNode: pve3.frost.haus
      proxmoxVMID: 106